var typo={inLineElements:["B","BIG","I","SMALL","TT","ABBR","ACRONYM","CITE","DFN","EM","KDB","STRONG","SAMP","VAR","A","BDO","MAP","OBJECT","Q","SPAN","SUB","SUP","BUTTON","INPUT","LABEL","SELECT","TEXTAREA"],ignoredElemenents:["SCRIPT","NOSCRIPT","STYLE","TITLE","IFRAME","HEAD","META","HTML","BR","IMG",""],uselessChar:"",uselessCharsCollection:["","",""],options:{quote:!0,units:!0,number:!0,space:!0,date:!0,ellipsis:!0},Rules:{quote:[[/(“|")(\w)/g,"„$2"],[/(“|")\uE000(\w)/g,"„$2"],[/(”|")( |,|\n*|$)/g,"“$2"],[/(”|")\uE000( |,|\n*|$)/g,"“$2"],[/(!|\?|\.)(”|")/g,"$1“"],[/(!|\?|\.)\uE000(”|")/g,"$1“"],[/(\w)(')(\w)/g,"$1’$3"]],units:[[/(\d+)(| )(|m)s/g,"$1 $3s"],[/(\d+)(| )\uE000(| )(|m)s/g,"$1 $4s"],[/(\d+)(| )(min|h|d)/g,"$1 $3"],[/(\d+)(| )\uE000(| )(min|h|d)/g,"$1 $4"],[/(\d+)(| )(|n|m|c|d|k)m/g,"$1 $3m"],[/(\d+)(| )\uE000(| )(|n|m|c|d|k)m/g,"$1 $3m"],[/(\d+)(| )(|m|h|d|c|b)l/g,"$1 $3l"],[/(\d+)(| )\uE000(| )(|m|h|d|c|b)l/g,"$1 $3l"],[/(\d+)(| )(ccm|gal)/g,"$1 $3"],[/(\d+)(| )\uE000(| )(ccm|gal)/g,"$1 $3"],[/(\d+)(| )(|m|c|d|k)m(\d)/g,"$1 $3m$4"],[/(\d+)(| )\uE000(| )(|m|c|d|k)m(\d)/g,"$1 $3m$4"],[/(\d+)(| )(ccm|gal)/g,"$1 $3"],[/(\d+)(| )\uE000(| )(ccm|gal)/g,"$1 $4"],[/(\d+)(| )(ha|a)/g,"$1 $3"],[/(\d+)(| )\uE000(| )(ha|a)/g,"$1 $4"],[/(\d+)(| )(|k|M)J/g,"$1 $3J"],[/(\d+)(| )\uE000(| )(|k|M)J/g,"$1 $4J"],[/(\d+)(| )(|k)cal/g,"$1 $3cal"],[/(\d+)(| )\uE000(| )(|k)cal/g,"$1 $4cal"],[/(\d+)(| )(|kWh|M)Wh/g,"$1 $3Wh"],[/(\d+)(| )\uE000(| )(|kWh|M)Wh/g,"$1 $4Wh"],[/(\d+)(| )(|k)m\/(s|min|h)/g,"$1 $3m/$4"],[/(\d+)(| )\uE000(| )(|k)m\/(s|min|h)/g,"$1 $4m/$5"],[/(\d+)(| )(K|°C|°F)/g,"$1 $3"],[/(\d+)(| )\uE000(| )(K|°C|°F)/g,"$1 $4"],[/(\d+)(| )(|h|k|M)Pa/g,"$1 $3Pa"],[/(\d+)(| )\uE000(| )(|h|k|M)Pa/g,"$1 $4Pa"],[/(\d+)(| )(bar|atm)/g,"$1 $3"],[/(\d+)(| )\uE000(| )(bar|atm)/g,"$1 $4"],[/(\d+)(| )(|k)W/g,"$1 $3"],[/(\d+)(| )\uE000(| )(|k)W/g,"$1 $4"],[/(\d+)(| )(%)/g,"$1 $3"],[/(\d+)(| )\uE000(| )(%)/g,"$1 $3"]],number:[[/(\d)( |\u00a0)(\d)/g,"$1$3"],[/(\d)\uE000( |\u00a0)(\d)/g,"$1$3"],[/(\d)( |\u00a0)\uE000(\d)/g,"$1$3"],[/(\d|\uE000)(?=(\d{3}|\d{3}\uE000|\d\uE000\d{2}|\d{2}\uE000\d|\uE000\d{3}|\d\uE000\d\uE000\d|\uE000\d\uE000r\d\uE000\d|\d\uE000\d\uE000\d\uE000)+(?!(\d|\uE000\d|\d\uE000)))/g,"$1 "]],space:[[/  /g," "],[/ (a|i|o|u|s|z|k|v|A|I|O|U|S|Z|K|V) /g," $1 "],[/ (a|i|o|u|s|z|k|v|A|I|O|U|S|Z|K|V)\uE000 /g," $1 "],[/ \uE000(a|i|o|u|s|z|k|v|A|I|O|U|S|Z|K|V)\uE000 /g," $1 "],[/ \uE000(a|i|o|u|s|z|k|v|A|I|O|U|S|Z|K|V) /g," $1 "],[/([§|#])( )(\d)/g,"$1 $3"],[/([§|#])(| )\uE000(| )(\d)/g,"$1 $4"],[/(tj|tzv|tzn)\. /g,"$1. "]],date:[[/(\d{1,2}\.)(| )(\d{1,2}\.)(| )(\d{4})/g,"$1 $3 $5"],[/(\d{1,2}\.)(| )(\d{1,2}\.)(| )(\d)\u202F(\d{3})/g,"$1 $3 $5$6"],[/(\d{1,2}\.)(| )(\d{1,2}\.)(| )(\d)\u202F(\d{2}\uE000\d)/g,"$1 $3 $5$6"],[/(\d{1,2}\.)(| )(\d{1,2}\.)(| )(\d)\u202F\d\uE000(\d{2})/g,"$1 $3 $5$6"],[/(\d{1,2}\.)(| )(\d{1,2}\.)(| )(\d)\u202F(\uE000\d{3})/g,"$1 $3 $5$6"]],ellipsis:[[/\.{3}/g,"…"],[/\.{2}\uE000\./g,"…"],[/\.\uE000\.\./g,"…"],[/\.\uE000\.\uE000\./g,"…"]]},runAutoCorrector:function(e,t){for(;typo.checkUselessChar();)typo.setUselessChar();options=Object.assign(typo.options,e);var r=document.getElementsByClassName("typography-autocorrector");if(void 0===t)if(0<r.length)typo.elementsDescendants(r);else{var n=document.getElementsByTagName("*");typo.elementIteration(n)}else typo.elementsDescendants(t)},elementsDescendants:function(e){var t=!0,r=!1,n=void 0;try{for(var o,l=e[Symbol.iterator]();!(t=(o=l.next()).done);t=!0){var a=o.value,u=a.getElementsByTagName("*");typo.elementIteration(a),0<u&&typo.elementIteration(u)}}catch(e){r=!0,n=e}finally{try{t||null==l.return||l.return()}finally{if(r)throw n}}},setUselessChar:function(){for(var e in typo.Rules)e.replace(typo.uselessChar,typo.uselessCharsCollection[0]);typo.uselessChar=typo.uselessCharsCollection[0],typo.uselessCharsCollection.shift()},checkUselessChar:function(){if(0===typo.uselessCharsCollection.length)return console.error("Změňte proměnou uselessChar ve scriptu na znak, který se nevyskystuje na stránce."),!1;var e=document.getElementsByTagName("BODY")[0].textContent;return new RegExp(typo.uselessChar).test(e)},elementIteration:function(e){if(e.length>0){var t=!0,r=!1,n=void 0;try{for(var o,l=e[Symbol.iterator]();!(t=(o=l.next()).done);t=!0){var a=o.value;typo.shouldSkip(a)||typo.textJoining(a)}}catch(e){r=!0,n=e}finally{try{t||null==l.return||l.return()}finally{if(r)throw n}}}else{if(typo.shouldSkip(e))return;typo.textJoining(e)}},shouldSkip:function(e){return!(!typo.ignoredElemenents.includes(e.tagName)&&""!==e.textContent&&!typo.inLineElements.includes(e.tagName))},getSiblings:function(e){var t=[];if(t.push(e),null===e.nextSibling)return t;for(;e=e.nextSibling;)t.push(e);return t},textJoining:function(e){var t=typo.getText(e),r="",n=!0,o=!1,l=void 0;try{for(var a,u=t[Symbol.iterator]();!(n=(a=u.next()).done);n=!0){var i=a.value;r=(r=r.concat(i.textContent)).concat(typo.uselessChar)}}catch(e){o=!0,l=e}finally{try{n||null==u.return||u.return()}finally{if(o)throw l}}for(var s=(r=typo.improveTypography(r)).split(typo.uselessChar,t.length),d=0;d<s.length;d++)t[d].textContent=s[d]},getText:function(e){var t=[];if(""===e.textContent)return t;var r=typo.getSiblings(e.childNodes[0]),n=!0,o=!1,l=void 0;try{for(var a,u=r[Symbol.iterator]();!(n=(a=u.next()).done);n=!0){var i=a.value;if(null!==i.nodeValue&&3===i.nodeType&&t.push(i),i.hasChildNodes&&""!==i.textContent&&typo.inLineElements.includes(i.tagName)&&1===i.nodeType){var s=typo.getText(i),d=!0,$=!1,y=void 0;try{for(var g,c=s[Symbol.iterator]();!(d=(g=c.next()).done);d=!0){var p=g.value;t.push(p)}}catch(e){$=!0,y=e}finally{try{d||null==c.return||c.return()}finally{if($)throw y}}}}}catch(e){o=!0,l=e}finally{try{n||null==u.return||u.return()}finally{if(o)throw l}}return t},improveTypography:function(e){if(typo.options.quote){var t=!0,r=!1,n=void 0;try{for(var o,l=typo.Rules.quote[Symbol.iterator]();!(t=(o=l.next()).done);t=!0){var a=o.value;e=e.replace(a[0],a[1])}}catch(e){r=!0,n=e}finally{try{t||null==l.return||l.return()}finally{if(r)throw n}}}if(typo.options.units){var u=!0,i=!1,s=void 0;try{for(var d,$=typo.Rules.units[Symbol.iterator]();!(u=(d=$.next()).done);u=!0){var y=d.value;e=e.replace(y[0],y[1])}}catch(e){i=!0,s=e}finally{try{u||null==$.return||$.return()}finally{if(i)throw s}}}if(typo.options.number){var g=!0,c=!1,p=void 0;try{for(var h,m=typo.Rules.number[Symbol.iterator]();!(g=(h=m.next()).done);g=!0){var f=h.value;e=e.replace(f[0],f[1])}}catch(e){c=!0,p=e}finally{try{g||null==m.return||m.return()}finally{if(c)throw p}}}if(typo.options.space){var v=!0,E=!1,C=void 0;try{for(var S,k=typo.Rules.space[Symbol.iterator]();!(v=(S=k.next()).done);v=!0){var T=S.value;e=e.replace(T[0],T[1])}}catch(e){E=!0,C=e}finally{try{v||null==k.return||k.return()}finally{if(E)throw C}}}if(typo.options.date){var x=!0,b=!1,A=void 0;try{for(var R,I=typo.Rules.date[Symbol.iterator]();!(x=(R=I.next()).done);x=!0){var w=R.value;e=e.replace(w[0],w[1])}}catch(e){b=!0,A=e}finally{try{x||null==I.return||I.return()}finally{if(b)throw A}}}if(typo.options.ellipsis){var B=!0,N=!1,M=void 0;try{for(var O,U=typo.Rules.ellipsis[Symbol.iterator]();!(B=(O=U.next()).done);B=!0){var L=O.value;e=e.replace(L[0],L[1])}}catch(e){N=!0,M=e}finally{try{B||null==U.return||U.return()}finally{if(N)throw M}}}return e}};